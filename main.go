package main

import (
	"fmt"
	"os"
	"strconv"
)

func main() {
	if len(os.Args) == 1 {
		help()
		os.Exit(0)
	}

	// for simplicity, content of file is put into static data, so that
	// original file is no longer needed
	if os.Args[1] == "parse" {
		if len(os.Args) != 3 {
			help()
			os.Exit(0)
		}

		err := parse(os.Args[2])
		if nil != err {
			fmt.Println("parse problem set with error: ", err)
		}

		os.Exit(0)
	}

	target, err := strconv.Atoi(os.Args[1])
	if nil != err {
		fmt.Printf("input %s convert to integer with error: %s\n", os.Args[1], err)
		os.Exit(0)
	}

	ps := problems()
	length := len(ps)

	for i, p := range ps {
		if p == target {
			if i == length-1 {
				fmt.Println("Congratulations, this is the last problem")
				os.Exit(0)
			} else {
				fmt.Printf("Next problem of %d is %d\n", target, ps[i+1])
			}
		}
	}
}

func help() {
	fmt.Println("show parsed result: next_leecode parse data_path")
	fmt.Println("find next problem: next_leecode number")
}

func problems() []int {
	return []int{771, 1119, 1350, 511, 1068, 1108, 1069, 760, 709, 595, 1165, 1365, 1342, 1303, 613, 339, 1281, 938, 1295, 1313, 461, 804, 346, 627, 617, 1221, 359, 657, 561, 104, 832, 728, 586, 590, 589, 584, 1021, 1179, 1086, 1134, 1173, 136, 1290, 1266, 344, 905, 1251, 700, 1213, 1351, 557, 1252, 509, 1323, 559, 1180, 961, 1279, 1085, 1299, 226, 852, 1148, 977, 1265, 1304, 1309, 266, 942, 182, 206, 933, 1050, 500, 1082, 243, 577, 476, 620, 811, 944, 463, 293, 175, 412, 610, 496, 237, 922, 13, 349, 897, 929, 883, 108, 821, 1207, 169, 876, 965, 1064, 1051, 603, 122, 1327, 682, 575, 766, 1241, 806, 283, 669, 607, 872, 1002, 637, 893, 908, 258, 217, 292, 242, 566, 999, 1047, 21, 181, 751, 1122, 171, 1280, 867, 762, 1025, 100, 784, 1211, 167, 1133, 1196, 252, 1160, 1030, 1237, 1022, 1356, 521, 800, 1337, 824, 485, 884, 1078, 693, 706, 389, 807, 1200, 448, 107, 118, 535, 1075, 705, 512, 121, 985, 256, 868, 183, 1046, 1114, 1185, 9, 27, 268, 1217, 1113, 383, 387, 538, 690, 202, 812, 1294, 520, 257, 119, 70, 350, 371, 1, 53, 748, 788, 696, 892, 653, 1009, 235, 447, 530, 654, 1099, 404, 101, 191, 606, 888, 701, 1103, 917, 232, 896, 1065, 409, 1189, 1150, 453, 83, 26, 976, 1089, 697, 38, 455, 733, 270, 1013, 506, 392, 1260, 492, 67, 1287, 1170, 599, 953, 35, 110, 66, 661, 544, 401, 1118, 246, 1029, 598, 704, 543, 1137, 415, 783, 937, 1331, 225, 1322, 541, 563, 231, 1084, 155, 198, 1270, 1317, 437, 860, 534, 717, 551, 112, 504, 746, 345, 703, 1184, 20, 796, 1071, 141, 993, 1076, 303, 628, 263, 1282, 405, 1141, 326, 299, 88, 830, 1332, 594, 1302, 1315, 720, 836, 1038, 342, 1083, 374, 1005, 205, 366, 1308, 160, 482, 367, 674, 572, 1176, 172, 997, 196, 1228, 111, 844, 1056, 459, 1275, 234, 14, 197, 1271, 203, 1243, 744, 501, 219, 276, 1175, 28, 443, 758, 763, 671, 1042, 441, 994, 125, 190, 619, 724, 1010, 419, 338, 1018, 1154, 290, 645, 797, 597, 69, 819, 58, 643, 716, 925, 434, 814, 422, 734, 195, 1128, 170, 189, 747, 157, 849, 1285, 989, 1008, 624, 278, 1232, 596, 894, 46, 890, 1360, 22, 94, 507, 950, 168, 204, 176, 604, 537, 861, 1079, 1329, 280, 921, 680, 475, 7, 970, 687, 1077, 1033, 442, 840, 408, 414, 362, 78, 570, 633, 1198, 532, 406, 370, 605, 1347, 193, 429, 723, 1037, 581, 686, 949, 941, 364, 1346, 260, 874, 1100, 1305, 1364, 914, 750, 238, 885, 1104, 1126, 311, 608, 1261, 1161, 427, 1142, 347, 1325, 979, 702, 12, 281, 1045, 1314, 39, 48, 513, 791, 1111, 230, 484, 369, 451, 859, 49, 515, 144, 156, 951, 889, 216, 245, 739, 1188, 413, 1204, 77, 959, 986, 173, 969, 102, 431, 426, 531, 62, 1112, 582, 59, 841, 695, 877, 1193, 64, 1361, 626, 1222, 241, 647, 540, 1277, 323, 215, 510, 529, 912, 1123, 508, 665, 609, 1195, 526, 1061, 11, 1110, 199, 547, 1101, 439, 612, 287, 96, 1043, 1130, 286, 553, 1214, 24, 635, 1026, 249, 244, 348, 998, 973, 398, 250, 328, 931, 1264, 1310, 289, 489, 573, 1338, 378, 865, 503, 89, 421, 137, 712, 462, 856, 565, 159, 384, 445, 1286, 341, 36, 1256, 320, 1087, 495, 454, 1219, 1120, 318, 16, 382, 648, 684, 1236, 40, 789, 294, 946, 114, 337, 17, 666, 1164, 1167, 817, 1072, 1016, 105, 343, 694, 835, 399, 655, 1238, 1343, 90, 1140, 983, 386, 449, 103, 980, 1258, 1273, 47, 75, 129, 667, 109, 585, 1321, 477, 676, 1017, 516, 932, 490, 430, 131, 247, 677, 259, 1057, 113, 360, 776, 919, 539, 357, 714, 756, 769, 1288, 1090, 351, 394, 254, 651, 1190, 153, 1004, 1306, 200, 1318, 781, 1011, 298, 1249, 1019, 1151, 641, 452, 106, 255, 1344, 325, 1055, 80, 251, 1105, 636, 1115, 947, 1268, 487, 1254, 309, 602, 1031, 638, 1143, 646, 1227, 253, 554, 73, 1158, 208, 1357, 1094, 1020, 1355, 120, 672, 1023, 279, 858, 319, 116, 423, 486, 162, 863, 1247, 725, 1174, 178, 481, 361, 524, 901, 1135, 379, 380, 1166, 1267, 533, 869, 52, 729, 623, 1324, 498, 592, 900, 846, 1003, 536, 652, 284, 424, 494, 692, 236, 313, 470, 505, 377, 1052, 1209, 1060, 1062, 240, 1006, 518, 1028, 1063, 314, 186, 390, 650, 86, 611, 621, 583, 752, 939, 1027, 1245, 1233, 1066, 549, 550, 1035, 718, 580, 1257, 851, 926, 436, 207, 222, 1048, 1272, 981, 1116, 300, 147, 261, 820, 1244, 148, 759, 95, 688, 56, 562, 958, 525, 740, 833, 731, 1014, 491, 875, 1040, 296, 1131, 548, 813, 1212, 139, 416, 277, 1248, 92, 911, 435, 528, 558, 117, 802, 388, 450, 560, 767, 1007, 1182, 187, 210, 721, 334, 792, 180, 228, 474, 264, 331, 74, 873, 1109, 6, 963, 134, 428, 34, 1117, 19, 809, 60, 395, 838, 743, 698, 785, 816, 737, 764, 201, 82, 574, 285, 375, 681, 1070, 438, 433, 223, 1145, 1255, 1362, 1284, 209, 145, 795, 555, 376, 417, 1024, 974, 916, 1333, 142, 593, 33, 622, 659, 1341, 63, 1102, 1291, 2, 213, 150, 738, 79, 881, 1053, 1155, 55, 934, 227, 18, 93, 1041, 143, 616, 221, 43, 275, 54, 966, 640, 755, 567, 670, 304, 81, 978, 1039, 870, 267, 478, 1080, 1358, 31, 393, 945, 1149, 274, 915, 1319, 742, 184, 211, 848, 831, 229, 1081, 1156, 1276, 372, 138, 368, 988, 1093, 542, 634, 971, 396, 71, 373, 991, 473, 658, 822, 497, 545, 662, 732, 1366, 161, 333, 962, 1059, 133, 775, 469, 935, 3, 1138, 853, 1296, 735, 886, 663, 1107, 332, 1226, 649, 1139, 825, 322, 855, 904, 1034, 5, 152, 578, 895, 50, 1230, 302, 467, 990, 42, 61, 713, 146, 1225, 1144, 307, 519, 1274, 1229, 353, 1049, 385, 773, 930, 1239, 177, 569, 808, 1096, 312, 1098, 310, 1181, 1300, 1205, 527, 397, 1292, 790, 948, 1202, 801, 356, 271, 1058, 272, 1074, 418, 522, 779, 127, 1223, 98, 787, 1152, 1242, 826, 15, 576, 1297, 1262, 957, 400, 1054, 673, 179, 1162, 365, 306, 1171, 324, 967, 660, 1218, 1136, 355, 678, 909, 51, 192, 130, 165, 845, 625, 761, 842, 898, 777, 799, 754, 1311, 1168, 556, 823, 765, 722, 91, 1283, 128, 1106, 456, 1334, 457, 464, 923, 402, 954, 984, 632, 163, 1328, 1129, 837, 1091, 1147, 982, 194, 1208, 297, 708, 1253, 794, 425, 918, 37, 1215, 72, 352, 987, 458, 265, 1289, 618, 1146, 1352, 960, 778, 955, 1206, 471, 1121, 25, 614, 166, 1278, 1298, 1367, 1186, 1097, 465, 1132, 1073, 1359, 291, 753, 907, 220, 151, 847, 154, 288, 23, 711, 523, 340, 410, 1015, 899, 329, 239, 301, 1197, 29, 1177, 1124, 1339, 295, 1320, 468, 768, 444, 8, 726, 857, 571, 315, 99, 1340, 770, 1312, 305, 1194, 317, 736, 1335, 1234, 115, 810, 679, 1183, 689, 248, 903, 1169, 85, 407, 1220, 588, 910, 668, 514, 1092, 1259, 123, 707, 1353, 774, 850, 615, 1250, 866, 1159, 472, 880, 488, 642, 843, 996, 1231, 403, 499, 546, 827, 76, 84, 224, 749, 164, 920, 992, 57, 995, 502, 1191, 87, 798, 691, 568, 828, 1192, 363, 601, 1032, 1127, 1240, 1201, 699, 282, 730, 124, 786, 517, 41, 218, 269, 727, 834, 1348, 308, 815, 316, 411, 327, 354, 782, 1368, 772, 975, 330, 664, 964, 45, 212, 1125, 358, 97, 185, 1203, 158, 4, 135, 480, 793, 1216, 483, 924, 336, 943, 381, 140, 233, 940, 757, 132, 715, 552, 579, 972, 882, 32, 864, 1316, 1210, 1246, 587, 928, 174, 1336, 10, 214, 1235, 262, 460, 879, 818, 446, 683, 591, 68, 956, 432, 854, 188, 1088, 600, 839, 30, 1000, 829, 391, 936, 630, 675, 44, 1187, 335, 1269, 1067, 1293, 968, 1172, 741, 710, 745, 631, 685, 273, 1012, 321, 1326, 440, 479, 644, 629, 466, 1263, 1001, 1036, 1157, 719, 1178, 1095, 927, 906, 126, 656, 1307, 871, 803, 1199, 1153, 891, 780, 902, 1301, 913, 493, 1349, 639, 1163, 1354, 952, 1224, 878, 1345, 149, 805, 65, 887, 1363, 1330, 564, 862, 1044, 420}
}
